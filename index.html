<!doctype html>
<html lang="zh-Hant">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q73JZRGRBQ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-Q73JZRGRBQ');
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>dodorama</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=filter_alt"
    />
    <script src="https://cdn.jsdelivr.net/npm/protobufjs@7.5.3/dist/protobuf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  </head>
  <body>
    <header>
      <div class="header-main">
        <button
          id="filter-toggle-btn"
          aria-label="Toggle filter menu"
          aria-expanded="false"
        >
          <span class="material-symbols-outlined">filter_alt</span>
        </button>

        <h1>dodorama</h1>

        <button
          id="menu-toggle-btn"
          aria-label="Toggle menu"
          aria-expanded="false"
        >
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>

      <div id="filter-menu-container">
        <div class="filter-menu-controls">
          <input type="text" id="search-input" placeholder="åŠ‡åæˆ–ä¸»æ¼”" />
          <select id="start-year-input">
            <option value="">èµ·å§‹å¹´ä»½</option>
          </select>
          <span class="year-range-separator">è‡³</span>
          <select id="end-year-input">
            <option value="">çµæŸå¹´ä»½</option>
          </select>
          <button id="reset-button">é‡è¨­</button>
          <button id="filter-confirm-button">ç¢ºèª</button>
        </div>
      </div>

      <div id="filters-container">
        <div class="filter-controls">
          <button id="clear-highlights-btn">æ¸…é™¤æ¨™è¨˜</button>
          <button id="share-button">ğŸ–¼ï¸ ç”¢ç”Ÿæ¸…å–®åœ–ç‰‡</button>
          <button id="export-csv-btn">ğŸ“¥ åŒ¯å‡º CSV</button>
          <div class="file-input-wrapper">
            <input type="file" id="import-csv-input" />
            <label for="import-csv-input" id="import-csv-label">ğŸ“¤ åŒ¯å…¥ CSV</label>
          </div>
          <div class="file-input-wrapper">
            <input type="file" id="parse-file-input"/>
            <label for="parse-file-input" id="parse-file-label">ğŸ“‘ è§£ææª”æ¡ˆ</label>
          </div>
          <div class="dropdown-container">
            <label for="data-source-dropdown" class="dropdown-label"
              >è³‡æ–™é›†</label
            >
            <select id="data-source-dropdown">
              <option value="dorama_info.txtpb">å…¨éƒ¨</option>
              <option value="top_5_lt_2000_dorama_info.txtpb">
                æ¯å¹´ Top 5 (2000å¹´å‰)
              </option>
              <option value="top_5_ge_2000_dorama_info.txtpb">
                æ¯å¹´ Top 5 (2000å¹´èµ·)
              </option>
              <option value="top_100_dorama_info.txtpb">Top 100 ç¸½æ¦œ</option>
            </select>
          </div>

          <div class="toggle-switch-container">
            <label for="actors-toggle" class="toggle-label">é¡¯ç¤ºä¸»æ¼”</label>
            <label class="toggle-switch">
              <input type="checkbox" id="actors-toggle" />
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>

      <div class="status-container">
        <p id="share-status"></p>
      </div>

      <div id="active-filter-display" class="active-filter-container"></div>

      <div id="status-message"></div>
    </header>

    <main id="main-content">
      <div id="dorama-grid"></div>
    </main>

    <div id="image-preview-modal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <div class="modal-actions">
          <div>
            <button id="modal-copy-btn">è¤‡è£½åœ–ç‰‡</button>
            <button id="modal-download-btn">ä¸‹è¼‰åœ–ç‰‡</button>
          </div>
          <span id="modal-close-btn" class="modal-close">&times;</span>
        </div>
        <div id="modal-image-container"></div>
      </div>
    </div>

    <div id="custom-dialog-modal" class="modal-overlay" style="display: none">
      <div class="modal-content dialog-modal">
        <div class="dialog-header">
          <h3 id="dialog-title"></h3>
          <span id="dialog-close-btn" class="modal-close">&times;</span>
        </div>
        <div class="dialog-body">
          <p id="dialog-message"></p>
        </div>
        <div class="dialog-actions">
          <div id="dialog-buttons"></div>
        </div>
      </div>
    </div>

    <div id="fuzzy-match-modal" class="modal-overlay" style="display: none;">
      <div class="modal-content fuzzy-match-review-modal">
        <div class="dialog-header">
          <h3 id="fuzzy-match-title">æ¯”å°çµæœå¯©æ ¸</h3>
          <div class="toggle-switch-container modal-toggle">
            <label for="hide-no-match-toggle" class="toggle-label">éš±è—ç„¡å°æ‡‰çµæœ</label>
            <label class="toggle-switch">
              <input type="checkbox" id="hide-no-match-toggle" checked>
              <span class="slider"></span>
            </label>
          </div>
          <span id="fuzzy-match-close-btn" class="modal-close">&times;</span>
        </div>
        <div id="fuzzy-match-body" class="dialog-body">
          </div>
        <div class="dialog-actions">
          <div id="fuzzy-match-buttons">
            </div>
        </div>
      </div>
    </div>
    <footer
      style="
        text-align: center;
        padding: 20px;
        color: #666;
        font-size: 14px;
        border-top: 1px solid #eee;
        margin-top: 40px;
      "
    >
      è³‡æ–™ä¾†æº:
      <a
        href="http://dorama.info/"
        target="_blank"
        rel="noopener"
        style="color: #007bff; text-decoration: none"
        >dorama.info</a
      >
    </footer>

    <script src="app.js"></script>
  </body>
</html>